

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Agents Module Documentation &mdash; SOBA 1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="SOBA 1 documentation" href="../index.html"/>
        <link rel="up" title="APIs" href="api.html"/>
        <link rel="next" title="Space Module Documentation" href="space.html"/>
        <link rel="prev" title="Model Module Documentation" href="model.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> SOBA
          

          
          </a>

          
            
            
              <div class="version">
                2.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../sobaoverview.html">SOBA Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howinstall.html">How install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro_tutorial.html">Introductory Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api.html">APIs Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="model.html">Model Module Documentation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Agents Module Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-soba.agents.occupant">Occupant</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-soba.agents.continuousOccupant">Continuous Occupant</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-soba.agents.roomsOccupant">Rooms Occupant</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-soba.agents.avatar">Avatar</a></li>
<li class="toctree-l3"><a class="reference internal" href="#agent-modules">Agent Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-soba.agents.resources.aStar">AStar</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-soba.agents.resources.behaviourMarkov">Markov</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-soba.agents.resources.fov">FOV</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="space.html">Space Module Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="launchers.html">Launchers Module Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../rest.html">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/seba/index.html">SEBA Project</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SOBA</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="api.html">APIs</a> &raquo;</li>
        
      <li>Agents Module Documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/apiDocumentation/agents.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="agents-module-documentation">
<h1>Agents Module Documentation<a class="headerlink" href="#agents-module-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-soba.agents.occupant">
<span id="occupant"></span><h2>Occupant<a class="headerlink" href="#module-soba.agents.occupant" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="soba.agents.occupant.Occupant">
<em class="property">class </em><code class="descclassname">soba.agents.occupant.</code><code class="descname">Occupant</code><span class="sig-paren">(</span><em>unique_id</em>, <em>model</em>, <em>json</em>, <em>speed=0.71428</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/occupant.html#Occupant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.occupant.Occupant" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class to models occupants as Occupant objects.
The occupants are agents with their activity defined by markov states.</p>
<blockquote>
<div><dl class="docutils">
<dt>Attributes:</dt>
<dd>color: Color with which the occupant will be represented in the visualization.
positionByState: Position associated to each state for an occupant.
timeActivity: Time that is required to complete an activity (state) in minutes.
schedule: Activity periods (hours:minutes).
states: States of the occupant.
machine: State machine defined by the attribute &#8216;states&#8217;.
movements: List of movements that will be followed by the occupant.
pos_to_go: Position to which the occupant wishes to move.
markov_machine: Object of the Markov class that regulates markovian behavior.</dd>
<dt>Methods:</dt>
<dd>setTodaySchedule: Calculate and define the schedules of the occupants.
start_activity: Defines the actions that are made when a state is started.
finish_activity: Defines the actions that are made when a state is finished.
changeSchedule: Force a possible change of state to reach a certain end of period.
getPeriod: Get the temporary period in which the occupant is.
step: Method invoked by the Model scheduler in each step. Step common to all occupants.</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="soba.agents.occupant.Occupant.changeSchedule">
<code class="descname">changeSchedule</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/occupant.html#Occupant.changeSchedule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.occupant.Occupant.changeSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Force a possible change of state to reach a certain end of period.</p>
<blockquote>
<div><dl class="docutils">
<dt>Return: </dt>
<dd>True if the period has been changed, False otherwise.</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="soba.agents.occupant.Occupant.finish_activity">
<code class="descname">finish_activity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/occupant.html#Occupant.finish_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.occupant.Occupant.finish_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the actions that are made when a state is finished.</p>
</dd></dl>

<dl class="method">
<dt id="soba.agents.occupant.Occupant.getPeriod">
<code class="descname">getPeriod</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/occupant.html#Occupant.getPeriod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.occupant.Occupant.getPeriod" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the temporary period in which the occupant is.</p>
<blockquote>
<div><dl class="docutils">
<dt>Return: </dt>
<dd>Current period as String</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="soba.agents.occupant.Occupant.setTodaySchedule">
<code class="descname">setTodaySchedule</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/occupant.html#Occupant.setTodaySchedule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.occupant.Occupant.setTodaySchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate and define the schedules of the occupants applying the information provided and normal Gaussian variations.</p>
</dd></dl>

<dl class="method">
<dt id="soba.agents.occupant.Occupant.start_activity">
<code class="descname">start_activity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/occupant.html#Occupant.start_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.occupant.Occupant.start_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the actions that are made when a state is started. 
Default, this method calculates the value of the attributes &#8216;time_activity&#8217; and &#8216;movements&#8217;
corresponding to the new state.</p>
</dd></dl>

<dl class="method">
<dt id="soba.agents.occupant.Occupant.step">
<code class="descname">step</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/occupant.html#Occupant.step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.occupant.Occupant.step" title="Permalink to this definition">¶</a></dt>
<dd><p>Method invoked by the Model scheduler in each step. Step common to all occupants.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-soba.agents.continuousOccupant">
<span id="continuous-occupant"></span><h2>Continuous Occupant<a class="headerlink" href="#module-soba.agents.continuousOccupant" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="soba.agents.continuousOccupant.ContinuousOccupant">
<em class="property">class </em><code class="descclassname">soba.agents.continuousOccupant.</code><code class="descname">ContinuousOccupant</code><span class="sig-paren">(</span><em>unique_id</em>, <em>model</em>, <em>json</em>, <em>speed=0.71428</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/continuousOccupant.html#ContinuousOccupant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.continuousOccupant.ContinuousOccupant" title="Permalink to this definition">¶</a></dt>
<dd><p>This class enables to create occupants that are modelled with a continuous space models.
based on considering a scaled grid (x, y). Cell size of 0.5m ^ 2 by default.
The occupants are agents with their activity defined by markov states.</p>
<dl class="docutils">
<dt>Attributes:</dt>
<dd>Those Inherited from the Occupant class.
fov: List of positions (x, y) that the occupant can see.</dd>
<dt>Methods:</dt>
<dd>getPosState: Auxiliary method to distribute the occupants between the points of interests with same id for more than one occupant.
getWay: Invocation of the AStar resource to calculate the optimal path.
getPlaceToGo: Obtaining the position associated with the current state.
posInMyFOV: Check if a position is in my field of vision.
evalAvoid: Check the future movement to be made by another agent to assess a possible collision.
checkFreeSharedPOI: Get a free position of a shared point of interest if possible.
checkCanMove: Get a new path in case of possible collision.
evalCollision: Evaluate a possible collision with an agent and solve it if necessary by calculating another path.
makeMovement: Carry out a movement: displacement between cells or reduction of the movement cost parameter.
reportMovement: Auxiliary method to notify a movement giving its orientation and speed.
checkLeaveArrive: Evaluates the entrance and exit of the building by an occupying agent.
getFOV: Calculation of the occupant&#8217;s field of vision, registered in the attribute fov.
step: Method invoked by the Model scheduler in each step.</dd>
</dl>
<dl class="method">
<dt id="soba.agents.continuousOccupant.ContinuousOccupant.checkCanMove">
<code class="descname">checkCanMove</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/continuousOccupant.html#ContinuousOccupant.checkCanMove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.continuousOccupant.ContinuousOccupant.checkCanMove" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Get a new path in case of possible collision.</dt>
<dd>Return: List of positions</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="soba.agents.continuousOccupant.ContinuousOccupant.checkFreeSharedPOI">
<code class="descname">checkFreeSharedPOI</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/continuousOccupant.html#ContinuousOccupant.checkFreeSharedPOI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.continuousOccupant.ContinuousOccupant.checkFreeSharedPOI" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Get a free position of a shared point of interest if possible.</dt>
<dd>Return: POI object</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="soba.agents.continuousOccupant.ContinuousOccupant.checkLeaveArrive">
<code class="descname">checkLeaveArrive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/continuousOccupant.html#ContinuousOccupant.checkLeaveArrive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.continuousOccupant.ContinuousOccupant.checkLeaveArrive" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the entrance and exit of the building by an occupying agent.</p>
</dd></dl>

<dl class="method">
<dt id="soba.agents.continuousOccupant.ContinuousOccupant.evalAvoid">
<code class="descname">evalAvoid</code><span class="sig-paren">(</span><em>otherAgent</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/continuousOccupant.html#ContinuousOccupant.evalAvoid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.continuousOccupant.ContinuousOccupant.evalAvoid" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Check the future movement to be made by another agent to assess a possible collision.</dt>
<dd><dl class="first docutils">
<dt>Args: </dt>
<dd>otherAgent: The other agent to be avoid.</dd>
</dl>
<p class="last">Return: Boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="soba.agents.continuousOccupant.ContinuousOccupant.evalCollision">
<code class="descname">evalCollision</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/continuousOccupant.html#ContinuousOccupant.evalCollision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.continuousOccupant.ContinuousOccupant.evalCollision" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Evaluate a possible collision with an agent, invoking the evalAvoid method, and solve it if necessary by calculating another path.</dt>
<dd>Return: True if the collision exists and is avoided, False otherwise.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="soba.agents.continuousOccupant.ContinuousOccupant.getFOV">
<code class="descname">getFOV</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/continuousOccupant.html#ContinuousOccupant.getFOV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.continuousOccupant.ContinuousOccupant.getFOV" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculation of the occupant&#8217;s field of vision, registered in the attribute fov</p>
</dd></dl>

<dl class="method">
<dt id="soba.agents.continuousOccupant.ContinuousOccupant.getPlaceToGo">
<code class="descname">getPlaceToGo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/continuousOccupant.html#ContinuousOccupant.getPlaceToGo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.continuousOccupant.ContinuousOccupant.getPlaceToGo" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Obtaining the position associated with the current state. It is invoked when you enter a new state.</dt>
<dd>Return: Position as coordinate (x, y).</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="soba.agents.continuousOccupant.ContinuousOccupant.getPosState">
<code class="descname">getPosState</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/continuousOccupant.html#ContinuousOccupant.getPosState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.continuousOccupant.ContinuousOccupant.getPosState" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Auxiliary method to distribute the occupants between the points of interests with same id for more than one occupant.</dt>
<dd><dl class="first docutils">
<dt>Args:</dt>
<dd>name: Poi id/name.</dd>
</dl>
<p class="last">Return: Position associated with this occupant.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="soba.agents.continuousOccupant.ContinuousOccupant.getWay">
<code class="descname">getWay</code><span class="sig-paren">(</span><em>pos=None</em>, <em>pos_to_go=None</em>, <em>other=[]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/continuousOccupant.html#ContinuousOccupant.getWay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.continuousOccupant.ContinuousOccupant.getWay" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Invocation of the AStar resource to calculate the optimal path.</dt>
<dd><dl class="first docutils">
<dt>Args:</dt>
<dd>pos: Initial position, by default the current position of the occupant.
pos_to_go: Final position, by default the value of the &#8216;pos_to_go&#8217; attribute of the occupant.
other: List of auxiliary positions given to be considered impenetrable by the occupants, 
that is, they will not be used by the AStar.</dd>
</dl>
<p class="last">Return: List of positions (x, y).</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="soba.agents.continuousOccupant.ContinuousOccupant.makeMovement">
<code class="descname">makeMovement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/continuousOccupant.html#ContinuousOccupant.makeMovement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.continuousOccupant.ContinuousOccupant.makeMovement" title="Permalink to this definition">¶</a></dt>
<dd><p>Carry out a movement: displacement between cells or reduction of the movement cost parameter.</p>
</dd></dl>

<dl class="method">
<dt id="soba.agents.continuousOccupant.ContinuousOccupant.posInMyFOV">
<code class="descname">posInMyFOV</code><span class="sig-paren">(</span><em>pos</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/continuousOccupant.html#ContinuousOccupant.posInMyFOV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.continuousOccupant.ContinuousOccupant.posInMyFOV" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Check if the position is in my field of vision</dt>
<dd><dl class="first docutils">
<dt>Args: </dt>
<dd>pos: Position to be checked</dd>
</dl>
<p class="last">Return: Boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="soba.agents.continuousOccupant.ContinuousOccupant.reportMovement">
<code class="descname">reportMovement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/continuousOccupant.html#ContinuousOccupant.reportMovement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.continuousOccupant.ContinuousOccupant.reportMovement" title="Permalink to this definition">¶</a></dt>
<dd><p>Auxiliary method to notify a movement giving its orientation and speed.</p>
</dd></dl>

<dl class="method">
<dt id="soba.agents.continuousOccupant.ContinuousOccupant.step">
<code class="descname">step</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/continuousOccupant.html#ContinuousOccupant.step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.continuousOccupant.ContinuousOccupant.step" title="Permalink to this definition">¶</a></dt>
<dd><p>Method invoked by the Model scheduler in each step. Evaluate if appropriate and, if so, perform: 
A change of state, a movement or advance in the cost of a movement, or an advance in the performance of an activity.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-soba.agents.roomsOccupant">
<span id="rooms-occupant"></span><h2>Rooms Occupant<a class="headerlink" href="#module-soba.agents.roomsOccupant" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="soba.agents.roomsOccupant.RoomsOccupant">
<em class="property">class </em><code class="descclassname">soba.agents.roomsOccupant.</code><code class="descname">RoomsOccupant</code><span class="sig-paren">(</span><em>unique_id</em>, <em>model</em>, <em>json</em>, <em>speed=0.7</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/roomsOccupant.html#RoomsOccupant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.roomsOccupant.RoomsOccupant" title="Permalink to this definition">¶</a></dt>
<dd><p>This class enables to create occupants that are modelled with a simplified models based on a discrete space associated with rooms.
The occupants are agents with their activity defined by markov states.</p>
<dl class="docutils">
<dt>Attributes:</dt>
<dd>Those inherited from the Occupant class.</dd>
<dt>Methods:</dt>
<dd>getPosState: Auxiliary method to distribute the occupants between the rooms shared by more than one occupant object.
getWay: Invocation of the AStar resource to calculate the optimal path.
occupantMovePos: Calculation of the control attributes that regulate the cost (steps) of the movement between rooms according to their size.
getPlaceToGo: Obtaining the position associated with the current state.
step: Method invoked by the Model scheduler in each step.</dd>
</dl>
<dl class="method">
<dt id="soba.agents.roomsOccupant.RoomsOccupant.getPlaceToGo">
<code class="descname">getPlaceToGo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/roomsOccupant.html#RoomsOccupant.getPlaceToGo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.roomsOccupant.RoomsOccupant.getPlaceToGo" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Obtaining the position associated with the current state. It is invoked when you enter a new state.</dt>
<dd>Return: Position as coordinate (x, y).</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="soba.agents.roomsOccupant.RoomsOccupant.getPosState">
<code class="descname">getPosState</code><span class="sig-paren">(</span><em>name</em>, <em>posAux</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/roomsOccupant.html#RoomsOccupant.getPosState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.roomsOccupant.RoomsOccupant.getPosState" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Auxiliary method to distribute the occupants between the rooms shared by more than one occupant object.</dt>
<dd><dl class="first docutils">
<dt>Args:</dt>
<dd>name: State name.
posAux: Name of the room associated with this state, string, 
or dictionary of room names with number of occupants. {&#8216;RoomName1&#8217;: numberofOccupantsAssigned1,
&#8216;RoomName2&#8217;: numberofOccupantsAssigned2... }</dd>
</dl>
<p class="last">Return: Position associated with this occupant</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="soba.agents.roomsOccupant.RoomsOccupant.getWay">
<code class="descname">getWay</code><span class="sig-paren">(</span><em>pos=None</em>, <em>pos_to_go=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/roomsOccupant.html#RoomsOccupant.getWay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.roomsOccupant.RoomsOccupant.getWay" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Invocation of the AStar resource to calculate the optimal path.</dt>
<dd><dl class="first docutils">
<dt>Args:</dt>
<dd>pos: Initial position, by default the current position of the occupant.
pos_to_go: Final position, by default the value of the &#8216;pos_to_go&#8217; attribute of the occupant.</dd>
</dl>
<p class="last">Return: List of positions (x, y).</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="soba.agents.roomsOccupant.RoomsOccupant.occupantMovePos">
<code class="descname">occupantMovePos</code><span class="sig-paren">(</span><em>new_position</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/roomsOccupant.html#RoomsOccupant.occupantMovePos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.roomsOccupant.RoomsOccupant.occupantMovePos" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Calculation of the control attributes that regulate the cost (steps) of the movement between rooms according to their size.</dt>
<dd><dl class="first last docutils">
<dt>Args:</dt>
<dd>new_position: Room object to which it moves.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="soba.agents.roomsOccupant.RoomsOccupant.step">
<code class="descname">step</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/roomsOccupant.html#RoomsOccupant.step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.roomsOccupant.RoomsOccupant.step" title="Permalink to this definition">¶</a></dt>
<dd><p>Method invoked by the Model scheduler in each step. Evaluate if appropriate and, if so, perform: 
A change of state, a movement or advance in the cost of a movement, or an advance in the performance of an activity.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-soba.agents.avatar">
<span id="avatar"></span><h2>Avatar<a class="headerlink" href="#module-soba.agents.avatar" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="soba.agents.avatar.Avatar">
<em class="property">class </em><code class="descclassname">soba.agents.avatar.</code><code class="descname">Avatar</code><span class="sig-paren">(</span><em>unique_id</em>, <em>model</em>, <em>initial_pos</em>, <em>color='red'</em>, <em>initial_state='walking'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/avatar.html#Avatar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.avatar.Avatar" title="Permalink to this definition">¶</a></dt>
<dd><p>This class enables to create avatars that represent virtual occupants, that is, they are
not controlled by the simulation but by an API Rest. However, certain important aspects 
such as position in space inherit from the occupant class.</p>
<dl class="docutils">
<dt>Attributes:</dt>
<dd>model: Simulation model.
unique_id: Unique avatar identifier as an occupant.
fov: List of positions (x, y) that the avatar can see.
state: Current avatar state.
pos: Current avatar position.
color: Color of the avatar in the visualization.
shape: Shape of the avatar in the visualization.</dd>
<dt>Methods:</dt>
<dd>getWay: Invocation of the AStar resource to calculate the optimal path.
posInMyFOV: Check if a position is in my field of vision.
makeMovementAvatar: Carry out a movement: displacement between cells.
checkLeaveArrive: Notify the entrance and exit of the building by an occupying agent.
getFOV: Calculation of the occupant&#8217;s field of vision, registered in the attribute fov.</dd>
</dl>
<dl class="method">
<dt id="soba.agents.avatar.Avatar.checkLeaveArrive">
<code class="descname">checkLeaveArrive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/avatar.html#Avatar.checkLeaveArrive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.avatar.Avatar.checkLeaveArrive" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify the entrance and exit of the building by an occupying agent.</p>
</dd></dl>

<dl class="method">
<dt id="soba.agents.avatar.Avatar.getFOV">
<code class="descname">getFOV</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/avatar.html#Avatar.getFOV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.avatar.Avatar.getFOV" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculation of the occupant&#8217;s field of vision, registered in the attribute fov</p>
</dd></dl>

<dl class="method">
<dt id="soba.agents.avatar.Avatar.getWay">
<code class="descname">getWay</code><span class="sig-paren">(</span><em>pos=None</em>, <em>pos_to_go=None</em>, <em>other=[]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/avatar.html#Avatar.getWay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.avatar.Avatar.getWay" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Invocation of the AStar resource to calculate the optimal path.</dt>
<dd><dl class="first docutils">
<dt>Args:</dt>
<dd>pos: Initial position, by default the current position of the occupant.
pos_to_go: Final position, by default the value of the &#8216;pos_to_go&#8217; attribute of the occupant.
other: List of auxiliary positions given to be considered impenetrable by the occupants, 
that is, they will not be used by the AStar.</dd>
</dl>
<p class="last">Return: List of positions (x, y).</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="soba.agents.avatar.Avatar.makeMovementAvatar">
<code class="descname">makeMovementAvatar</code><span class="sig-paren">(</span><em>pos</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/avatar.html#Avatar.makeMovementAvatar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.avatar.Avatar.makeMovementAvatar" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Carry out a movement: displacement between cells.</dt>
<dd><dl class="first last docutils">
<dt>Args: </dt>
<dd>pos: Position to be moved.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="soba.agents.avatar.Avatar.posInMyFOV">
<code class="descname">posInMyFOV</code><span class="sig-paren">(</span><em>pos</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/avatar.html#Avatar.posInMyFOV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.avatar.Avatar.posInMyFOV" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Check if the position is in my field of vision</dt>
<dd><dl class="first docutils">
<dt>Args: </dt>
<dd>pos: Position to be checked</dd>
</dl>
<p class="last">Return: Boolean</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="agent-modules">
<h2>Agent Modules<a class="headerlink" href="#agent-modules" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-soba.agents.resources.aStar">
<span id="astar"></span><h3>AStar<a class="headerlink" href="#module-soba.agents.resources.aStar" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="soba.agents.resources.aStar.canMovePos">
<code class="descclassname">soba.agents.resources.aStar.</code><code class="descname">canMovePos</code><span class="sig-paren">(</span><em>model</em>, <em>cellPos</em>, <em>posAux</em>, <em>others=[]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/resources/aStar.html#canMovePos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.resources.aStar.canMovePos" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Evaluate if a position is reachable in a continuous space.</dt>
<dd><dl class="first docutils">
<dt>Args:</dt>
<dd>model: Model which invokes the algorithm.
cellPos: a first one position given as (x, y).
posAux: a second one position given as (x, y).
others: List of auxiliary positions given to be considered impenetrable,
that is, they will not be used by the AStar.</dd>
</dl>
<p class="last">Return: List of positions (x, y).</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="soba.agents.resources.aStar.getConectedCellsContinuous">
<code class="descclassname">soba.agents.resources.aStar.</code><code class="descname">getConectedCellsContinuous</code><span class="sig-paren">(</span><em>model</em>, <em>cell</em>, <em>others</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/resources/aStar.html#getConectedCellsContinuous"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.resources.aStar.getConectedCellsContinuous" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Gets a list of connected cells in a continuous space.</dt>
<dd><dl class="first docutils">
<dt>Args:</dt>
<dd>model: Model which invokes the algorithm.
cell: cell object corresponding to the position.
other: List of auxiliary positions given to be considered impenetrable, that is, they will not be used by the AStar.</dd>
</dl>
<p class="last">Return: List of positions (x, y).</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="soba.agents.resources.aStar.getConectedCellsRooms">
<code class="descclassname">soba.agents.resources.aStar.</code><code class="descname">getConectedCellsRooms</code><span class="sig-paren">(</span><em>model</em>, <em>cell</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/resources/aStar.html#getConectedCellsRooms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.resources.aStar.getConectedCellsRooms" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Gets a list of connected cells in a space defined by rooms.</dt>
<dd><dl class="first docutils">
<dt>Args:</dt>
<dd>model: Model which invokes the algorithm.
cell: cell object corresponding to the room.</dd>
</dl>
<p class="last">Return: List of positions (x, y).</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="soba.agents.resources.aStar.getPathContinuous">
<code class="descclassname">soba.agents.resources.aStar.</code><code class="descname">getPathContinuous</code><span class="sig-paren">(</span><em>model</em>, <em>start</em>, <em>finish</em>, <em>other=[]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/resources/aStar.html#getPathContinuous"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.resources.aStar.getPathContinuous" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Calculate the optimal path in the models with the space continuous.</dt>
<dd><dl class="first docutils">
<dt>Args:</dt>
<dd>model: Model which invokes the algorithm.
start: Initial position.
finish: Final position.
other: List of auxiliary positions given to be considered impenetrable, that is, they will not be used by the AStar.</dd>
</dl>
<p class="last">Return: List of positions (x, y).</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="soba.agents.resources.aStar.getPathRooms">
<code class="descclassname">soba.agents.resources.aStar.</code><code class="descname">getPathRooms</code><span class="sig-paren">(</span><em>model</em>, <em>start</em>, <em>finish</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/resources/aStar.html#getPathRooms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.resources.aStar.getPathRooms" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Calculate the optimal path in the models with the space defined by rooms.</dt>
<dd><dl class="first docutils">
<dt>Args:</dt>
<dd>model: Model which invokes the algorithm.
start: Initial position.
finish: Final position.</dd>
</dl>
<p class="last">Return: List of positions (x, y).</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="soba.agents.resources.aStar.print_progress">
<code class="descclassname">soba.agents.resources.aStar.</code><code class="descname">print_progress</code><span class="sig-paren">(</span><em>iteration</em>, <em>total</em>, <em>prefix=''</em>, <em>suffix=''</em>, <em>decimals=1</em>, <em>bar_length=100</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/resources/aStar.html#print_progress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.resources.aStar.print_progress" title="Permalink to this definition">¶</a></dt>
<dd><p>Call in a loop to create terminal progress bar
&#64;params:</p>
<blockquote>
<div>iteration   - Required  : current iteration (Int)
total       - Required  : total iterations (Int)
prefix      - Optional  : prefix string (Str)
suffix      - Optional  : suffix string (Str)
decimals    - Optional  : positive number of decimals in percent complete (Int)
bar_length  - Optional  : character length of bar (Int)</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-soba.agents.resources.behaviourMarkov">
<span id="markov"></span><h3>Markov<a class="headerlink" href="#module-soba.agents.resources.behaviourMarkov" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="soba.agents.resources.behaviourMarkov.Markov">
<em class="property">class </em><code class="descclassname">soba.agents.resources.behaviourMarkov.</code><code class="descname">Markov</code><span class="sig-paren">(</span><em>agent_aux</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/resources/behaviourMarkov.html#Markov"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.resources.behaviourMarkov.Markov" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class to models the activity of the agents by means of Markovian behavior.</p>
<blockquote>
<div><dl class="docutils">
<dt>Attributes:</dt>
<dd>agent: Agent that is controlled by this models.</dd>
<dt>Methods:</dt>
<dd>runStep: Execute a Markovian state change by evaluating the initial state and the probabilities associated with each possible state.
getNextState: Evaluate a random change based on the probabilities corresponding to each state.</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="soba.agents.resources.behaviourMarkov.Markov.getNextState">
<code class="descname">getNextState</code><span class="sig-paren">(</span><em>markov_matrix</em>, <em>NumberCurrentState</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/resources/behaviourMarkov.html#Markov.getNextState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.resources.behaviourMarkov.Markov.getNextState" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Evaluate a random change based on the probabilities corresponding to each state.</dt>
<dd><dl class="first last docutils">
<dt>Args:</dt>
<dd>markov_matrix: Markov matrix corresponding to a certain moment.
NumberCurrentState: Unique id as number of the current state.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="soba.agents.resources.behaviourMarkov.Markov.runStep">
<code class="descname">runStep</code><span class="sig-paren">(</span><em>markov_matrix</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/resources/behaviourMarkov.html#Markov.runStep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.resources.behaviourMarkov.Markov.runStep" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Execute a Markovian state change by evaluating the initial state and the probabilities associated with each possible state.</dt>
<dd><dl class="first last docutils">
<dt>Args:</dt>
<dd>markov_matrix: Markov matrix corresponding to a certain moment.</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-soba.agents.resources.fov">
<span id="fov"></span><h3>FOV<a class="headerlink" href="#module-soba.agents.resources.fov" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="soba.agents.resources.fov.FOV_RADIUS">
<code class="descclassname">soba.agents.resources.fov.</code><code class="descname">FOV_RADIUS</code><em class="property"> = 30000</em><a class="headerlink" href="#soba.agents.resources.fov.FOV_RADIUS" title="Permalink to this definition">¶</a></dt>
<dd><p>In the file aStar.py the filed of vision algorithm is implemented.</p>
</dd></dl>

<dl class="class">
<dt id="soba.agents.resources.fov.Map">
<em class="property">class </em><code class="descclassname">soba.agents.resources.fov.</code><code class="descname">Map</code><span class="sig-paren">(</span><em>map</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/resources/fov.html#Map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.resources.fov.Map" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to calculate the field of vision (fov).</p>
<dl class="docutils">
<dt>Attributes:</dt>
<dd>data: Map to which to apply the algorithm.</dd>
<dt>Methods:</dt>
<dd>do_fov: Calculate the field of view from a position (x, y).</dd>
<dt>More information:</dt>
<dd><a class="reference external" href="http://www.roguebasin.com/index.php?title=Python_shadowcasting_implementation">http://www.roguebasin.com/index.php?title=Python_shadowcasting_implementation</a></dd>
</dl>
<dl class="method">
<dt id="soba.agents.resources.fov.Map.do_fov">
<code class="descname">do_fov</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/resources/fov.html#Map.do_fov"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.resources.fov.Map.do_fov" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Calculate the field of view from a position (x, y).</dt>
<dd><dl class="first docutils">
<dt>Args: </dt>
<dd>x, y: Observer&#8217;s position</dd>
</dl>
<p class="last">Return: Array of sight positions.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="soba.agents.resources.fov.makeFOV">
<code class="descclassname">soba.agents.resources.fov.</code><code class="descname">makeFOV</code><span class="sig-paren">(</span><em>dungeon</em>, <em>pos</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soba/agents/resources/fov.html#makeFOV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#soba.agents.resources.fov.makeFOV" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Create the invocation object of the fov algorithm and invoke it.</dt>
<dd><dl class="first docutils">
<dt>Args:</dt>
<dd>dungeon: Array 
pos: Observer&#8217;s position</dd>
</dl>
<p class="last">Return: Array of sight positions.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="space.html" class="btn btn-neutral float-right" title="Space Module Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="model.html" class="btn btn-neutral" title="Model Module Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, GSI - UPM.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>